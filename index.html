<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Control de Peso</title>
  <meta name="theme-color" content="#0d47a1">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
  <script type="module" src="script.js" defer></script>
</head>
<body>
  <header class="app-header">
    <h1>Control de Peso</h1>
    <p class="app-subtitle">Registra tu evolucion corporal y analiza tu progreso.</p>
  </header>
  <main>
    <section class="card">
      <h2>Nuevo registro</h2>
      <div class="form-layout">
        <form id="entry-form" autocomplete="off">
        <div id="form-editing-banner" class="form-banner" hidden>
          <span class="banner-icon" aria-hidden="true">‚úèÔ∏è</span>
          <span>Est√°s editando el registro del <time id="form-editing-date"></time>.</span>
        </div>
        <div class="field">
          <label for="date">Fecha</label>
          <input type="date" id="date" name="date" required>
        </div>
        <div class="field">
          <label for="weight">Peso (kg)</label>
          <input type="number" id="weight" name="weight" step="0.1" min="1" inputmode="decimal" required>
        </div>
        <div class="field">
          <label for="waist">Cintura (cm)</label>
          <input type="number" id="waist" name="waist" step="0.1" min="1" inputmode="decimal">
        </div>
        <div class="field">
          <label for="chest">Pecho (cm)</label>
          <input type="number" id="chest" name="chest" step="0.1" min="1" inputmode="decimal">
        </div>
        <div class="field">
          <label for="right-bicep">B√≠ceps derecho (cm)</label>
          <input type="number" id="right-bicep" name="right-bicep" step="0.1" min="1" inputmode="decimal">
        </div>
        <div class="field">
          <label for="left-bicep">B√≠ceps izquierdo (cm)</label>
          <input type="number" id="left-bicep" name="left-bicep" step="0.1" min="1" inputmode="decimal">
        </div>
        <div class="field">
          <label for="glutes">Gl√∫teos (cm)</label>
          <input type="number" id="glutes" name="glutes" step="0.1" min="1" inputmode="decimal">
        </div>
        <div class="field">
          <label for="right-thigh">Muslo derecho (cm)</label>
          <input type="number" id="right-thigh" name="right-thigh" step="0.1" min="1" inputmode="decimal">
        </div>
        <div class="field">
          <label for="left-thigh">Muslo izquierdo (cm)</label>
          <input type="number" id="left-thigh" name="left-thigh" step="0.1" min="1" inputmode="decimal">
        </div>
        <div class="field">
          <label for="right-calf">Gemelo derecho (cm)</label>
          <input type="number" id="right-calf" name="right-calf" step="0.1" min="1" inputmode="decimal">
        </div>
        <div class="field">
          <label for="left-calf">Gemelo izquierdo (cm)</label>
          <input type="number" id="left-calf" name="left-calf" step="0.1" min="1" inputmode="decimal">
        </div>
        <div class="form-actions">
          <button type="submit" class="primary with-icon" id="save-entry">
            <span class="button-icon" id="save-entry-icon" aria-hidden="true">üíæ</span>
            <span id="save-entry-label">Guardar registro</span>
          </button>
          <button type="button" class="ghost with-icon" id="cancel-edit" hidden>
            <span class="button-icon" aria-hidden="true">‚Ü©Ô∏è</span>
            <span>Cancelar edici√≥n</span>
          </button>
        </div>
        </form>

        <figure class="measurement-figure">
          <svg class="measurement-illustration" viewBox="0 0 320 520" role="img" aria-labelledby="body-diagram-title body-diagram-desc">
            <title id="body-diagram-title">Mapa de medidas corporales</title>
            <desc id="body-diagram-desc">Diagrama de un cuerpo humano con las medidas solicitadas en el formulario.</desc>
            <style>
              .body { fill: #dbeafe; stroke: #2563eb; stroke-width: 4; stroke-linejoin: round; }
              .pointer { stroke: #2563eb; stroke-width: 3; stroke-linecap: round; fill: none; }
              .point { fill: #2563eb; }
              .label { fill: #0f172a; font-size: 18px; font-weight: 600; }
            </style>
            <g transform="translate(40, 20)">
              <circle class="body" cx="120" cy="60" r="40" />
              <rect class="body" x="95" y="100" width="50" height="150" rx="26" />
              <rect class="body" x="70" y="120" width="25" height="130" rx="20" />
              <rect class="body" x="145" y="120" width="25" height="130" rx="20" />
              <rect class="body" x="95" y="250" width="22" height="130" rx="18" />
              <rect class="body" x="123" y="250" width="22" height="130" rx="18" />
              <rect class="body" x="92" y="380" width="28" height="90" rx="16" />
              <rect class="body" x="120" y="380" width="28" height="90" rx="16" />
              <circle class="point" cx="120" cy="60" r="6" />
              <circle class="point" cx="145" cy="170" r="6" />
              <circle class="point" cx="145" cy="220" r="6" />
              <circle class="point" cx="80" cy="190" r="6" />
              <circle class="point" cx="210" cy="190" r="6" />
              <circle class="point" cx="150" cy="300" r="6" />
              <circle class="point" cx="75" cy="320" r="6" />
              <circle class="point" cx="195" cy="320" r="6" />
              <circle class="point" cx="70" cy="410" r="6" />
              <circle class="point" cx="200" cy="410" r="6" />
              <line class="pointer" x1="120" y1="60" x2="120" y2="12" />
              <line class="pointer" x1="145" y1="170" x2="230" y2="130" />
              <line class="pointer" x1="145" y1="220" x2="230" y2="205" />
              <line class="pointer" x1="80" y1="190" x2="10" y2="165" />
              <line class="pointer" x1="210" y1="190" x2="270" y2="165" />
              <line class="pointer" x1="150" y1="300" x2="240" y2="300" />
              <line class="pointer" x1="75" y1="320" x2="20" y2="340" />
              <line class="pointer" x1="195" y1="320" x2="260" y2="340" />
              <line class="pointer" x1="70" y1="410" x2="20" y2="430" />
              <line class="pointer" x1="200" y1="410" x2="270" y2="430" />
              <text class="label" x="120" y="10" text-anchor="middle">Peso corporal</text>
              <text class="label" x="238" y="126">Pecho</text>
              <text class="label" x="238" y="204">Cintura</text>
              <text class="label" x="4" y="162" text-anchor="end">B√≠ceps der.</text>
              <text class="label" x="278" y="162">B√≠ceps izq.</text>
              <text class="label" x="248" y="304">Gl√∫teos</text>
              <text class="label" x="14" y="346" text-anchor="end">Muslo der.</text>
              <text class="label" x="268" y="346">Muslo izq.</text>
              <text class="label" x="14" y="436" text-anchor="end">Gemelo der.</text>
              <text class="label" x="278" y="436">Gemelo izq.</text>
            </g>
          </svg>
          <figcaption>
            <p>Consulta el diagrama para ubicar cada una de las medidas corporales del formulario. Recuerda registrar tu peso corporal total junto al resto de per√≠metros.</p>
            <ul class="measurement-legend">
              <li>Pecho y cintura se miden con una cinta horizontal, alrededor del torso.</li>
              <li>Los b√≠ceps, muslos y gemelos se registran por separado para cada lado del cuerpo.</li>
              <li>La medida de gl√∫teos debe tomarse en la parte m√°s prominente de la cadera.</li>
            </ul>
          </figcaption>
        </figure>
      </div>
    </section>
    <section class="card">
      <header class="section-header">
        <h2>Evolucion del peso</h2>
        <button type="button" id="clear-data" class="ghost with-icon">
          <span class="button-icon" aria-hidden="true">üóëÔ∏è</span>
          <span>Borrar todo</span>
        </button>
      </header>
      <div class="chart-wrapper">
        <canvas id="chart" role="img" aria-label="Grafico de evolucion del peso"></canvas>
      </div>
    </section>
    <section class="card">
      <header class="section-header">
        <h2>Historial de registros</h2>
      </header>
      <div class="table-wrapper">
        <table id="entries-table">
          <thead>
            <tr>
              <th scope="col">Fecha</th>
              <th scope="col">Peso (kg)</th>
              <th scope="col">Cintura (cm)</th>
              <th scope="col">Pecho (cm)</th>
              <th scope="col">B√≠ceps der. (cm)</th>
              <th scope="col">B√≠ceps izq. (cm)</th>
              <th scope="col">Gl√∫teos (cm)</th>
              <th scope="col">Muslo der. (cm)</th>
              <th scope="col">Muslo izq. (cm)</th>
              <th scope="col">Gemelo der. (cm)</th>
              <th scope="col">Gemelo izq. (cm)</th>
              <th scope="col" class="actions-column">Acciones</th>
            </tr>
          </thead>
          <tbody id="entries-table-body"></tbody>
        </table>
        <template id="entry-row-template">
          <tr data-entry-id="" data-date="" aria-selected="false">
            <td class="table-cell table-cell-date"></td>
            <td class="table-cell table-cell-weight"></td>
            <td class="table-cell table-cell-waist"></td>
            <td class="table-cell table-cell-chest"></td>
            <td class="table-cell table-cell-right-bicep"></td>
            <td class="table-cell table-cell-left-bicep"></td>
            <td class="table-cell table-cell-glutes"></td>
            <td class="table-cell table-cell-right-thigh"></td>
            <td class="table-cell table-cell-left-thigh"></td>
            <td class="table-cell table-cell-right-calf"></td>
            <td class="table-cell table-cell-left-calf"></td>
            <td class="table-actions-cell">
              <div class="table-actions">
                <button type="button" class="table-action with-icon" data-action="edit">
                  <span class="button-icon" aria-hidden="true">‚úèÔ∏è</span>
                  <span>Editar</span>
                </button>
                <button type="button" class="table-action with-icon danger" data-action="delete">
                  <span class="button-icon" aria-hidden="true">üóëÔ∏è</span>
                  <span>Eliminar</span>
                </button>
              </div>
            </td>
          </tr>
        </template>
        <p id="entries-empty-state" class="table-empty" role="status" aria-hidden="true">Todav√≠a no hay registros guardados.</p>
      </div>
    </section>
  </main>
  <noscript>
    <p class="noscript">Activa JavaScript para registrar tus datos y visualizar el grafico.</p>
  </noscript>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js');
      });
    }
  </script>
</body>
</html>
